let hrefAttr=window.location.search,pageNum=1,catName="";if((hrefAttr=(hrefAttr=hrefAttr.slice(1,hrefAttr.length)).split("&")).forEach(e=>{e.indexOf("id")>=0?pageNum=Number(e.split("=")[1]):e.indexOf("cat")>=0&&(catName=e.split("=")[1])}),""!==catName)fetch("data/allPosts.json").then(function(e){return e.json()}).then(function(e){let t=document.getElementById("postsContainer"),a=[...e.posts],n=document.getElementById("newPosts"),d=document.getElementById("oldPosts");if(""!==catName||(catName=a[0].cat[0]["meta-name"]),document.getElementById(catName).classList.add("active"),a=(a=a.map(e=>{let t=!1;return e.cat.forEach(e=>{e["meta-name"]===catName&&(t=!0)}),t?e:null})).filter(function(e){return null!=e}),10*(pageNum-1)>a.length)return void(window.location.href="/category.html?cat="+catName+"&id=1");(0===pageNum||pageNum<0)&&(pageNum=1),pageNum<=1?n.classList.add("disabled"):n.href="?cat="+catName+"&id="+(pageNum-1);let i=10*pageNum;(a=a.slice(i-10,i)).length<10?d.classList.add("disabled"):d.href="?cat="+catName+"&id="+(pageNum+1),a.forEach(e=>{let a=document.createElement("article");a.classList.add("listigPost"),a.innerHTML='<a href="'+e.link+'" class="listigPost__img">\n            <picture>\n              <source data-srcset="img/webp/'+e.img+'.webp" type="image/webp">\n              <source data-srcset="img/'+e.img+'.jpg" type="image/jpg">\n              <img data-src="img/'+e.img+'.jpg" alt="'+e.imgAlt+'" class="lazy '+(e.portraitImg?"portraitImg":"")+'">\n            </picture>\n          </a>\n',addPostText(e,a),t.appendChild(a),lazyLoadInstance.update()}),a.length<1&&nothingFound()});else{nothingFound();let e=document.querySelector(".postListingBtns");for(let t=0;t<e.children.length;t++)e.children[t].classList.add("disabled")}function addPostText(e,t){let a=document.createElement("div");a.classList.add("postDisplayText"),a.classList.add("container");let n=document.createElement("div");n.classList.add("postDisplayText__categories"),e.cat.forEach(e=>{let t=document.createElement("a");t.classList.add("btn"),t.classList.add("btn--catg"),t.href=e.link,t.innerHTML=e.name,n.appendChild(t)});let d=document.createElement("h1");d.innerHTML=e.title;let i=document.createElement("a");i.href=e.link,i.appendChild(d);let l=document.createElement("p");l.innerHTML=e.desc;let s=document.createElement("div");s.classList.add("postDisplayText__more");let c=document.createElement("a");c.href=e.link,c.classList.add("btn"),c.classList.add("btn--primary"),c.innerHTML="read more";let r=document.createElement("h5");r.classList.add("postDisplayText__more__date"),r.innerHTML=e.date,s.appendChild(c),s.appendChild(r),a.appendChild(n),a.appendChild(i),a.appendChild(l),a.appendChild(s),t.appendChild(a)}function nothingFound(){document.getElementById("postsContainer").innerHTML="<h1 class='nothingFound'>Nothing Found. See our <a href='/'>latest posts.</a><h1>"}